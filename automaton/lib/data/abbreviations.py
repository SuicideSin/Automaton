from itertools import chain


__all__ = ['language_codes', 'states', 'countries']


class AbbreviationDict(object):
  __invalid = object()

  def __init__(self, *args):
    self.short = {}
    self.long = {}
    for lng, short in args:
      self.long[lng.lower()] = short.lower()
      self.short[short.lower()] = lng.lower()

  def __iter__(self):
    return chain(self.short, self.long)

  def __len__(self):
    return len(self.short) + len(self.long)

  def __contains__(self, key):
    return key.lower() in self.long or key.lower() in self.short

  def __getitem__(self, key):
    return self.short.get(key.lower(), self.long.get(key.lower()))

  def keys(self):
    return self.short.keys() + self.long.keys()

  def get(self, key, default=__invalid):
    try:
      return self[key]
    except KeyError:
      if default is not __invalid:
        return default
      else:
        raise

  def try_long(self, key):
    if key in self.short:
      return self.short[key.lower()]
    else:
      return key

  def to_long(self, key):
    return self.short[key.lower()]

  def try_short(self, key):
    if key in self.long:
      return self.long[key.lower()]
    else:
      return key

  def to_short(self, key):
    return self.long[key.lower()]


language_codes = AbbreviationDict(
  ("afrikaans", "af"),
  ("albanian", "sq"),
  ("arabic", "ar"),
  ("belarusian", "be"),
  ("bulgarian", "bg"),
  ("catalan", "ca"),
  ("chinese simplified", "zh-CN"),
  ("chinese traditional", "zh-TW"),
  ("croatian", "hr"),
  ("czech", "cs"),
  ("danish", "da"),
  ("dutch", "nl"),
  ("english", "en"),
  ("estonian", "et"),
  ("filipino", "tl"),
  ("finnish", "fi"),
  ("french", "fr"),
  ("galician", "gl"),
  ("german", "de"),
  ("greek", "el"),
  ("hebrew", "iw"),
  ("hindi", "hi"),
  ("hungarian", "hu"),
  ("icelandic", "is"),
  ("indonesian", "id"),
  ("irish", "ga"),
  ("italian", "it"),
  ("japanese", "ja"),
  ("korean", "ko"),
  ("latvian", "lv"),
  ("lithuanian", "lt"),
  ("macedonian", "mk"),
  ("malay", "ms"),
  ("maltese", "mt"),
  ("norwegian", "no"),
  ("persian", "fa"),
  ("polish", "pl"),
  ("portuguese", "pt"),
  ("romanian", "ro"),
  ("russian", "ru"),
  ("serbian", "sr"),
  ("slovak", "sk"),
  ("slovenian", "sl"),
  ("spanish", "es"),
  ("swahili", "sw"),
  ("swedish", "sv"),
  ("thai", "th"),
  ("turkish", "tr"),
  ("ukrainian", "uk"),
  ("vietnamese", "vi"),
  ("welsh", "cy"),
  ("yiddish", "yi"),
)

states = AbbreviationDict(
  ("alabama", "al"),
  ("alaska", "ak"),
  ("american samoa", "as"),
  ("arizona", "az"),
  ("arkansas", "ar"),
  ("california", "ca"),
  ("colorado", "co"),
  ("connecticut", "ct"),
  ("delaware", "de"),
  ("district of columbia", "dc"),
  ("federated states of micronesia", "fm"),
  ("florida", "fl"),
  ("georgia", "ga"),
  ("guam gu", "gu"),
  ("hawaii", "hi"),
  ("idaho", "id"),
  ("illinois", "il"),
  ("indiana", "in"),
  ("iowa", "ia"),
  ("kansas", "ks"),
  ("kentucky", "ky"),
  ("louisiana", "la"),
  ("maine", "me"),
  ("marshall islands", "mh"),
  ("maryland", "md"),
  ("massachusetts", "ma"),
  ("michigan", "mi"),
  ("minnesota", "mn"),
  ("mississippi", "ms"),
  ("missouri", "mo"),
  ("montana", "mt"),
  ("nebraska", "ne"),
  ("nevada", "nv"),
  ("new hampshire", "nh"),
  ("new jersey", "nj"),
  ("new mexico", "nm"),
  ("new york", "ny"),
  ("north carolina", "nc"),
  ("north dakota", "nd"),
  ("northern mariana islands", "mp"),
  ("ohio", "oh"),
  ("oklahoma", "ok"),
  ("oregon", "or"),
  ("palau", "pw"),
  ("pennsylvania", "pa"),
  ("puerto rico", "pr"),
  ("rhode island", "ri"),
  ("south carolina", "sc"),
  ("south dakota", "sd"),
  ("tennessee", "tn"),
  ("texas", "tx"),
  ("utah", "ut"),
  ("vermont", "vt"),
  ("virgin islands", "vi"),
  ("virginia", "va"),
  ("washington", "wa"),
  ("west virginia", "wv"),
  ("wisconsin", "wi"),
  ("wyoming", "wy")
)

countries = AbbreviationDict(
  ("afghanistan", "af"),
  ("aland", "ax"),
  ("albania", "al"),
  ("algeria", "dz"),
  ("andorra", "ad"),
  ("angola", "ao"),
  ("anguilla", "ai"),
  ("antarctica", "aq"),
  ("argentina republic", "ar"),
  ("armenia", "am"),
  ("aruba", "aw"),
  ("australia", "au"),
  ("austria", "at"),
  ("azerbaijan", "az"),
  ("bahamas", "bs"),
  ("bahrain", "bh"),
  ("bangladesh", "bd"),
  ("barbados", "bb"),
  ("belarus", "by"),
  ("belgium", "be"),
  ("belize", "bz"),
  ("benin", "bj"),
  ("bermuda", "bm"),
  ("bhutan", "bt"),
  ("bolivia", "bo"),
  ("botswana", "bw"),
  ("bouvet island", "bv"),
  ("brazil", "br"),
  ("brunei darussalam", "bn"),
  ("bulgaria", "bg"),
  ("burkina faso", "bf"),
  ("burundi", "bi"),
  ("cambodia", "kh"),
  ("cameroon", "cm"),
  ("canada", "ca"),
  ("cape verde", "cv"),
  ("cayman islands", "ky"),
  ("chad", "td"),
  ("chile", "cl"),
  ("china", "cn"),
  ("cocos islands", "cc"),
  ("colombia", "co"),
  ("comoras", "km"),
  ("congo", "cg"),
  ("congo", "cd"),
  ("cook islands", "ck"),
  ("costa rica", "cr"),
  ("cote d ivoire", "ci"),
  ("croatia", "hr"),
  ("cuba", "cu"),
  ("cyprus", "cy"),
  ("czech republic", "cz"),
  ("denmark", "dk"),
  ("djibouti", "dj"),
  ("dominica", "dm"),
  ("dominican republic", "do"),
  ("east timor", "tp"),
  ("ecuador", "ec"),
  ("egypt", "eg"),
  ("el salvador", "sv"),
  ("equatorial guinea", "gq"),
  ("estonia", "ee"),
  ("ethiopia", "et"),
  ("falkland islands", "fk"),
  ("faroe islands", "fo"),
  ("fiji", "fj"),
  ("finland", "fi"),
  ("france", "fr"),
  ("french guiana", "gf"),
  ("french polynesia", "pf"),
  ("gabon", "ga"),
  ("gambia", "gm"),
  ("georgia", "ge"),
  ("germany", "de"),
  ("ghana", "gh"),
  ("gibralter", "gi"),
  ("greece", "gr"),
  ("greenland", "gl"),
  ("grenada", "gd"),
  ("guadeloupe", "gp"),
  ("guam", "gu"),
  ("guatemala", "gt"),
  ("guinea", "gn"),
  ("guinea-bissau", "gw"),
  ("guyana", "gy"),
  ("haiti", "ht"),
  ("honduras", "hn"),
  ("hong kong", "hk"),
  ("hungary", "hu"),
  ("iceland", "is"),
  ("india", "in"),
  ("indonesia", "id"),
  ("iran", "ir"),
  ("iraq", "iq"),
  ("ireland", "ie"),
  ("israel", "il"),
  ("italy", "it"),
  ("jamaica", "jm"),
  ("japan", "jp"),
  ("jordan", "jo"),
  ("kazakhstan", "kz"),
  ("kenya", "ke"),
  ("kiribati", "ki"),
  ("kuwait", "kw"),
  ("kyrgyzstan", "kg"),
  ("laos", "la"),
  ("latvia", "lv"),
  ("lebanon", "lb"),
  ("lesotho", "ls"),
  ("liberia", "lr"),
  ("liechtenstein", "li"),
  ("lithuania", "lt"),
  ("luxembourg", "lu"),
  ("macao", "mo"),
  ("macedonia", "mk"),
  ("madagascar", "mg"),
  ("malawi", "mw"),
  ("malaysia", "my"),
  ("maldives", "mv"),
  ("mali", "ml"),
  ("malta", "mt"),
  ("marshall islands", "mh"),
  ("martinique", "mq"),
  ("mauritania", "mr"),
  ("mauritius", "mu"),
  ("mayotte", "yt"),
  ("mexico", "mx"),
  ("micronesia", "fm"),
  ("moldava", "md"),
  ("monaco", "mc"),
  ("mongolia", "mn"),
  ("montenegro", "me"),
  ("montserrat", "ms"),
  ("morocco", "ma"),
  ("mozambique", "mz"),
  ("myanmar", "mm"),
  ("namibia", "na"),
  ("nauru", "nr"),
  ("nepal", "np"),
  ("netherlands", "nl"),
  ("new caledonia", "nc"),
  ("new zealand", "nz"),
  ("nicaragua", "ni"),
  ("niger", "ne"),
  ("nigeria", "ng"),
  ("niue", "nu"),
  ("norway", "no"),
  ("oman", "om"),
  ("pakistan", "pk"),
  ("palau", "pw"),
  ("palestine", "ps"),
  ("panama", "pa"),
  ("papua new guinea", "pg"),
  ("paraguay", "py"),
  ("peru", "pe"),
  ("phillipines", "ph"),
  ("pitcairn", "pn"),
  ("poland", "pl"),
  ("portugal", "pt"),
  ("puerto rico", "pr"),
  ("qatar", "qa"),
  ("reunion", "re"),
  ("romania", "ro"),
  ("russian federation", "ru"),
  ("rwanda", "rw"),
  ("samoa", "ws"),
  ("san marino", "sm"),
  ("sao tome/principe", "st"),
  ("saudi arabia", "sa"),
  ("scotland", "uk"),
  ("senegal", "sn"),
  ("serbia", "rs"),
  ("seychelles", "sc"),
  ("sierra leone", "sl"),
  ("singapore", "sg"),
  ("slovakia", "sk"),
  ("slovenia", "si"),
  ("somalia", "so"),
  ("south africa", "za"),
  ("soviet union", "su"),
  ("spain", "es"),
  ("sri lanka", "lk"),
  ("sudan", "sd"),
  ("suriname", "sr"),
  ("swaziland", "sz"),
  ("sweden", "se"),
  ("switzerland", "ch"),
  ("taiwan", "tw"),
  ("tajikistan", "tj"),
  ("thailand", "th"),
  ("togo", "tg"),
  ("tokelau", "tk"),
  ("tonga", "to"),
  ("tunisia", "tn"),
  ("turkey", "tr"),
  ("turkmenistan", "tm"),
  ("tuvalu", "tv"),
  ("uganda", "ug"),
  ("ukraine", "ua"),
  ("united arab emirates", "ae"),
  ("united kingdom", "uk"),
  ("united states", "us"),
  ("uruguay", "uy"),
  ("uzbekistan", "uz"),
  ("vanuatu", "vu"),
  ("vatican", "va"),
  ("venezuela", "ve"),
  ("viet nam", "vn"),
  ("virgin islands", "vi"),
  ("western sahara", "eh"),
  ("yemen", "ye"),
  ("zambia", "zm"),
  ("zimbabwe", "zw")
)

